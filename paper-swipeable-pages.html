<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-swipeable-pages/iron-swipeable-pages.html">

<!--
`<paper-swipeable-pages>` manages a set of pages and and provides the ability to switch
between them by swiping gesture.

Example:

    <paper-swipeable-pages>
      <div>One</div>
      <div>Two</div>
      <div>Three</div>
    </paper-swipeable-pages>

Additionnally, you can specify the following properties regarding the sensitivity of the swipe,
the transition used, and the possibility of cycling. For more details, see below.

It could be a good idea to disable text selection on any of the children that you
want to be swiped:

    .swipe {
      -moz-user-select: none;
      -ms-user-select: none;
      -webkit-user-select: none;
      user-select: none;
      cursor: default;
    }

@demo demo/index.html
@hero hero.svg
-->

<dom-module id="paper-swipeable-pages">
  <style>
    :host {
      display: block;
      position: relative;
      overflow-x: hidden;
    }
    :host > ::content > * {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
    }
    :host > ::content > :not(.iron-selected):not(.iron-last-selected):not(.paper-swiping) {
      display: none !important;
    }
    .pageSelection {
      opacity: 0.3;
    }
    .pageSelection[selected] {
      opacity: 1;
    }
    /*TODO PG: defined custom properties and mixins*/
  </style>

  <template>
    <iron-swipeable-pages selectedIndex="[[selected]]">
      <content id="pagesContent"></content>
      <div id="page_selector">
        <template is="dom-repeat-n" count="{{pageCount}}">
          <svg>
            <circle class$="pageSelection" selected="_computeSelected(selected, index)" cx="100" cy="100" r="100"/>
          </svg>
        </template>
        <content id="pageSelectorLabel"></content>
      </div>
    </iron-swipeable-pages>
  </template>

  <script>
    (function() {
      Polymer({
        is: 'paper-swipeable-pages',

        properties: {
          /**
           * TODO.
           */
          TODO: {
            type: Number,
            value: 250
          },
        },

        // Element Lifecycle

        ready: function() {
          // TODO PG: calculate page Count
        },

        // Element page set up

        // Element page management

        _computeSelected: function(selected, index) {
          return selected == index;
        }
      });
    }());
  </script>
</dom-module>
